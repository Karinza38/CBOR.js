<!DOCTYPE html>
<html lang='en'>
<head>
  <link rel='icon' href='webpkiorg.png' sizes='192x192'>
  <meta name='viewport' content='initial-scale=1.0'>
  <title>CBOR JavaScript API</title>
  <link rel='stylesheet' type='text/css' href='style.css'>
</head>
<body>
  <img style="max-width:30%" src="cbor.js.svg" alt="logo" title="CBOR.js logotype">
  <h3 style="text-align:center;font-weight:normal;font-size:1.8em">CBOR.js - JavaScript API</h3>
  <h1>***WORK IN PROGRESS***</h1>
  <h3 id='toc'>Table of Contents</h3>
  <div style='margin:0 0 0.4em 2em'><a href='#main.intro'>1 Introduction</a></div>
<div style='margin:0 0 0.4em 2em'><a href='#main.wrappers'>2 CBOR Wrapper Objects</a></div>
<div style='margin:0 0 0.4em 4em'><a href='#wrapper.cbor.int'>2.1 CBOR.Int</a></div>
<div style='margin:0 0 0.4em 6em'><a href='#methods.cbor.int'>2.1.1 CBOR.Int Methods</a></div>
<div style='margin:0 0 0.4em 8em'><a href='#cbor.int.getint'>2.1.1.1 getInt()</a></div>
<div style='margin:0 0 0.4em 4em'><a href='#wrapper.cbor.bigint'>2.2 CBOR.BigInt</a></div>
<div style='margin:0 0 0.4em 6em'><a href='#methods.cbor.bigint'>2.2.1 CBOR.BigInt Methods</a></div>
<div style='margin:0 0 0.4em 8em'><a href='#cbor.bigint.getbigint'>2.2.1.1 getBigInt()</a></div>
<div style='margin:0 0 0.4em 4em'><a href='#wrapper.cbor.float'>2.3 CBOR.Float</a></div>
<div style='margin:0 0 0.4em 6em'><a href='#methods.cbor.float'>2.3.1 CBOR.Float Methods</a></div>
<div style='margin:0 0 0.4em 8em'><a href='#cbor.float.getfloat'>2.3.1.1 getFloat()</a></div>
<div style='margin:0 0 0.4em 6em'><a href='#properties.cbor.float'>2.3.2 CBOR.Float Properties</a></div>
<div style='margin:0 0 0.4em 8em'><a href='#cbor.float.length'>2.3.2.1 length</a></div>
<div style='margin:0 0 0.4em 4em'><a href='#wrapper.cbor.string'>2.4 CBOR.String</a></div>
<div style='margin:0 0 0.4em 6em'><a href='#methods.cbor.string'>2.4.1 CBOR.String Methods</a></div>
<div style='margin:0 0 0.4em 8em'><a href='#cbor.string.getstring'>2.4.1.1 getString()</a></div>
<div style='margin:0 0 0.4em 4em'><a href='#wrapper.cbor.bytes'>2.5 CBOR.Bytes</a></div>
<div style='margin:0 0 0.4em 6em'><a href='#methods.cbor.bytes'>2.5.1 CBOR.Bytes Methods</a></div>
<div style='margin:0 0 0.4em 8em'><a href='#cbor.bytes.getbytes'>2.5.1.1 getBytes()</a></div>
<div style='margin:0 0 0.4em 4em'><a href='#wrapper.cbor.bool'>2.6 CBOR.Bool</a></div>
<div style='margin:0 0 0.4em 6em'><a href='#methods.cbor.bool'>2.6.1 CBOR.Bool Methods</a></div>
<div style='margin:0 0 0.4em 8em'><a href='#cbor.bool.getboolean'>2.6.1.1 getBoolean()</a></div>
<div style='margin:0 0 0.4em 4em'><a href='#wrapper.cbor.null'>2.7 CBOR.Null</a></div>
<div style='margin:0 0 0.4em 6em'><a href='#methods.cbor.null'>2.7.1 CBOR.Null Methods</a></div>
<div style='margin:0 0 0.4em 8em'><a href='#cbor.null.isnull'>2.7.1.1 isNull()</a></div>
<div style='margin:0 0 0.4em 4em'><a href='#wrapper.cbor.array'>2.8 CBOR.Array</a></div>
<div style='margin:0 0 0.4em 6em'><a href='#methods.cbor.array'>2.8.1 CBOR.Array Methods</a></div>
<div style='margin:0 0 0.4em 8em'><a href='#cbor.array.add'>2.8.1.1 add()</a></div>
<div style='margin:0 0 0.4em 8em'><a href='#cbor.array.get'>2.8.1.2 get()</a></div>
<div style='margin:0 0 0.4em 8em'><a href='#cbor.array.toarray'>2.8.1.3 toArray()</a></div>
<div style='margin:0 0 0.4em 8em'><a href='#cbor.array.getarray'>2.8.1.4 getArray()</a></div>
<div style='margin:0 0 0.4em 6em'><a href='#properties.cbor.array'>2.8.2 CBOR.Array Properties</a></div>
<div style='margin:0 0 0.4em 8em'><a href='#cbor.array.length'>2.8.2.1 length</a></div>
<div style='margin:0 0 0.4em 4em'><a href='#wrapper.cbor.map'>2.9 CBOR.Map</a></div>
<div style='margin:0 0 0.4em 6em'><a href='#methods.cbor.map'>2.9.1 CBOR.Map Methods</a></div>
<div style='margin:0 0 0.4em 8em'><a href='#cbor.map.set'>2.9.1.1 set()</a></div>
<div style='margin:0 0 0.4em 8em'><a href='#cbor.map.get'>2.9.1.2 get()</a></div>
<div style='margin:0 0 0.4em 8em'><a href='#cbor.map.getconditional'>2.9.1.3 getConditional()</a></div>
<div style='margin:0 0 0.4em 8em'><a href='#cbor.map.containskey'>2.9.1.4 containsKey()</a></div>
<div style='margin:0 0 0.4em 8em'><a href='#cbor.map.remove'>2.9.1.5 remove()</a></div>
<div style='margin:0 0 0.4em 8em'><a href='#cbor.map.getkeys'>2.9.1.6 getKeys()</a></div>
<div style='margin:0 0 0.4em 8em'><a href='#cbor.map.getmap'>2.9.1.7 getMap()</a></div>
<div style='margin:0 0 0.4em 6em'><a href='#properties.cbor.map'>2.9.2 CBOR.Map Properties</a></div>
<div style='margin:0 0 0.4em 8em'><a href='#cbor.map.length'>2.9.2.1 length</a></div>
<div style='margin:0 0 0.4em 4em'><a href='#wrapper.cbor.tag'>2.10 CBOR.Tag</a></div>
<div style='margin:0 0 0.4em 6em'><a href='#methods.cbor.tag'>2.10.1 CBOR.Tag Methods</a></div>
<div style='margin:0 0 0.4em 8em'><a href='#cbor.tag.gettagnumber'>2.10.1.1 getTagNumber()</a></div>
<div style='margin:0 0 0.4em 8em'><a href='#cbor.tag.gettaggedobject'>2.10.1.2 getTaggedObject()</a></div>
<div style='margin:0 0 0.4em 8em'><a href='#cbor.tag.gettag'>2.10.1.3 getTag()</a></div>
<div style='margin:0 0 0.4em 2em'><a href='#main.common'>3 Common Wrapper Methods</a></div>
<div style='margin:0 0 0.4em 4em'><a href='#common.clone'>3.1 clone()</a></div>
<div style='margin:0 0 0.4em 4em'><a href='#common.equals'>3.2 equals()</a></div>
<div style='margin:0 0 0.4em 4em'><a href='#common.scan'>3.3 scan()</a></div>
<div style='margin:0 0 0.4em 4em'><a href='#common.checkforunread'>3.4 checkForUnread()</a></div>
<div style='margin:0 0 0.4em 4em'><a href='#common.todiag'>3.5 toDiag()</a></div>
<div style='margin:0 0 0.4em 4em'><a href='#common.tostring'>3.6 toString()</a></div>
<div style='margin:0 0 0.4em 2em'><a href='#main.decoding'>4 Decoding CBOR</a></div>
<div style='margin:0 0 0.4em 4em'><a href='#decoder.cbor.decode'>4.1 CBOR.decode()</a></div>
<div style='margin:0 0 0.4em 4em'><a href='#decoder.cbor.initextended'>4.2 CBOR.initExtended()</a></div>
<div style='margin:0 0 0.4em 4em'><a href='#decoder.cbor.decodeextended'>4.3 CBOR.decodeExtended()</a></div>
<div style='margin:0 0 0.4em 4em'><a href='#decoder.cbor.diagdecode'>4.4 CBOR.diagDecode()</a></div>
<div style='margin:0 0 0.4em 4em'><a href='#decoder.cbor.diagdecodesequence'>4.5 CBOR.diagDecodeSequence()</a></div>
<div style='margin:0 0 0.4em 2em'><a href='#main.utility'>5 Utility Methods</a></div>
<div style='margin:0 0 0.4em 4em'><a href='#utility.cbor.addarrays'>5.1 CBOR.addArrays()</a></div>
<div style='margin:0 0 0.4em 4em'><a href='#utility.cbor.comparearrays'>5.2 CBOR.compareArrays()</a></div>
<div style='margin:0 0 0.4em 4em'><a href='#utility.cbor.tohex'>5.3 CBOR.toHex()</a></div>
<div style='margin:0 0 0.4em 4em'><a href='#utility.cbor.fromhex'>5.4 CBOR.fromHex()</a></div>
<div style='margin:0 0 0.4em 4em'><a href='#utility.cbor.tobase64url'>5.5 CBOR.toBase64Url()</a></div>
<div style='margin:0 0 0.4em 4em'><a href='#utility.cbor.frombase64url'>5.6 CBOR.fromBase64Url()</a></div>
<div style='margin:0 0 0.4em 2em'><a href='#main.jsnumbers'>6 JavaScript Number Considerations</a></div>
<div style='margin:0 0 0.4em 4em'><a href='#jsnumbers.int'>6.1 Integer Numbers</a></div>
<div style='margin:0 0 0.4em 4em'><a href='#jsnumbers.fp'>6.2 Floating Point Numbers</a></div>
<div style='margin:0 0 0.4em 2em'><a href='#main.diagnostic'>7 Diagnostic Notation</a></div>
<div style='margin:0 0 0.4em 2em'><a href='#main.deterministic'>8 Deterministic Encoding</a></div>

  <h3 id='main.intro'>1 Introduction</h3>

  This document describes a JavaScript API for encoding and decoding
  CBOR&nbsp;[<a href="https://www.rfc-editor.org/rfc/rfc8949.html"
                title="CBOR">RFC8949<img src="xtl.svg" alt="link"></a>].
  The API loosely mimics the &quot;JSON&quot; object by exposing a <i>single global object</i>,
  unsurprisingly named &quot;CBOR&quot;.

  The core is based on wrapping CBOR data items
  in type-specific objects.

  These objects are used for encoding CBOR data,
  as well as being the result of CBOR decoding.

  The API provides some specific features including:
  <ol>
    <li>Deterministic Encoding</li>
    <li>Diagnostic Notation encoder and decoder</li>
    <li>Strict type checking of arguments</li>
    <li><i>Optional</i> check for unread elements</li>
  </ol>
  <h3 id='main.wrappers'>2 CBOR Wrapper Objects</h3>

  Blah etc.
  <h5 id='wrapper.cbor.int'>2.1 CBOR.Int</h5>
<div class='webpkifloat'>
<table class='webpkitable' style='margin-left:2em;width:50em'>
<tr><th>Syntax</th><td colspan='2' style='width:100%'><code>CBOR.Int(<i>value</i>)</code></td></tr>
<tr><th>Description</th><td colspan='2' style='width:100%'>Constructor.  Creates a CBOR integer wrapper object.
See also <a href='#jsnumbers.int'>Integer Numbers</a>.</td></tr>
<tr><td colspan='3' style='background-color:white; font-size:0.6em'></td></tr>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
<tr><td style='text-align:center'><code><i>value</i></code></td><td style='text-align:center'><code>Number</code></td><td style='width:100%'>Integer to be wrapped.</td></tr>
<tr><td colspan='3' style='background-color:white; font-size:0.6em'></td></tr>
<tr><th>Returns</th><th colspan='2'>Description</th></tr>
<tr><td style='text-align:center'><code>CBOR.Int</code></td><td colspan='2' style='width:100%'>Wrapper object.</td></tr>
</table></div>
<h5 id='methods.cbor.int'>2.1.1 CBOR.Int Methods</h5>
<h5 id='cbor.int.getint'>2.1.1.1 getInt()</h5>
<div class='webpkifloat'>
<table class='webpkitable' style='margin-left:2em;width:50em'>
<tr><th>Syntax</th><td style='width:100%'><code>getInt()</code></td></tr>
<tr><th>Description</th><td style='width:100%'>Reads CBOR integer.</td></tr>
<tr><td colspan='2' style='background-color:white; font-size:0.6em'></td></tr>
<tr><th>Returns</th><th>Description</th></tr>
<tr><td style='text-align:center'><code>Number</code></td><td style='width:100%'>Decoded integer.</td></tr>
</table></div>
<h5 id='wrapper.cbor.bigint'>2.2 CBOR.BigInt</h5>
<div class='webpkifloat'>
<table class='webpkitable' style='margin-left:2em;width:50em'>
<tr><th>Syntax</th><td colspan='2' style='width:100%'><code>CBOR.BigInt(<i>value</i>)</code></td></tr>
<tr><th>Description</th><td colspan='2' style='width:100%'>Constructor.  Creates a CBOR big integer wrapper object.</td></tr>
<tr><td colspan='3' style='background-color:white; font-size:0.6em'></td></tr>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
<tr><td style='text-align:center'><code><i>value</i></code></td><td style='text-align:center'><code>BigInt</code></td><td style='width:100%'>Big integer to be wrapped.</td></tr>
<tr><td colspan='3' style='background-color:white; font-size:0.6em'></td></tr>
<tr><th>Returns</th><th colspan='2'>Description</th></tr>
<tr><td style='text-align:center'><code>CBOR.BigInt</code></td><td colspan='2' style='width:100%'>Wrapper object.</td></tr>
</table></div>
<h5 id='methods.cbor.bigint'>2.2.1 CBOR.BigInt Methods</h5>
<h5 id='cbor.bigint.getbigint'>2.2.1.1 getBigInt()</h5>
<div class='webpkifloat'>
<table class='webpkitable' style='margin-left:2em;width:50em'>
<tr><th>Syntax</th><td style='width:100%'><code>getBigInt()</code></td></tr>
<tr><th>Description</th><td style='width:100%'>Reads CBOR big integer.
Note that this method is compatible with <i>all</i> CBOR
integer types.  This is nessesary due to the fact that
the actual CBOR encoding method depends on the <i>value</i>,
not on the type.</td></tr>
<tr><td colspan='2' style='background-color:white; font-size:0.6em'></td></tr>
<tr><th>Returns</th><th>Description</th></tr>
<tr><td style='text-align:center'><code>BigInt</code></td><td style='width:100%'>Decoded big integer.</td></tr>
</table></div>
<h5 id='wrapper.cbor.float'>2.3 CBOR.Float</h5>
<div class='webpkifloat'>
<table class='webpkitable' style='margin-left:2em;width:50em'>
<tr><th>Syntax</th><td colspan='2' style='width:100%'><code>CBOR.Float(<i>value</i>)</code></td></tr>
<tr><th>Description</th><td colspan='2' style='width:100%'>Constructor.  Creates a CBOR floating point wrapper object.
See also <a href='#jsnumbers.fp'>Floating Point Numbers</a>.</td></tr>
<tr><td colspan='3' style='background-color:white; font-size:0.6em'></td></tr>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
<tr><td style='text-align:center'><code><i>value</i></code></td><td style='text-align:center'><code>Number</code></td><td style='width:100%'>Floating point number to be wrapped.</td></tr>
<tr><td colspan='3' style='background-color:white; font-size:0.6em'></td></tr>
<tr><th>Returns</th><th colspan='2'>Description</th></tr>
<tr><td style='text-align:center'><code>CBOR.Float</code></td><td colspan='2' style='width:100%'>Wrapper object.</td></tr>
</table></div>
<h5 id='methods.cbor.float'>2.3.1 CBOR.Float Methods</h5>
<h5 id='cbor.float.getfloat'>2.3.1.1 getFloat()</h5>
<div class='webpkifloat'>
<table class='webpkitable' style='margin-left:2em;width:50em'>
<tr><th>Syntax</th><td style='width:100%'><code>getFloat()</code></td></tr>
<tr><th>Description</th><td style='width:100%'>Reads CBOR float point object.</td></tr>
<tr><td colspan='2' style='background-color:white; font-size:0.6em'></td></tr>
<tr><th>Returns</th><th>Description</th></tr>
<tr><td style='text-align:center'><code>Number</code></td><td style='width:100%'>Decoded floating pointing number.</td></tr>
</table></div>
<h5 id='properties.cbor.float'>2.3.2 CBOR.Float Properties</h5>
<h5 id='cbor.float.length'>2.3.2.1 length</h5>
<div class='webpkifloat'>
<table class='webpkitable' style='margin-left:2em;width:50em'>
<tr><th>Name</th><th>Type</th><th>Description</th></tr>
<tr><td style='text-align:center'><code><i>length</i></code></td><td style='text-align:center'><code>Number</code></td><td style='width:100%'>Length in bytes of the underlying CBOR IEEE 754 type.</td></tr>
</table></div>
<h5 id='wrapper.cbor.string'>2.4 CBOR.String</h5>
<div class='webpkifloat'>
<table class='webpkitable' style='margin-left:2em;width:50em'>
<tr><th>Syntax</th><td colspan='2' style='width:100%'><code>CBOR.String(<i>textString</i>)</code></td></tr>
<tr><th>Description</th><td colspan='2' style='width:100%'>Constructor.  Creates a CBOR text string wrapper object.</td></tr>
<tr><td colspan='3' style='background-color:white; font-size:0.6em'></td></tr>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
<tr><td style='text-align:center'><code><i>textString</i></code></td><td style='text-align:center'><code>String</code></td><td style='width:100%'>String to be wrapped.</td></tr>
<tr><td colspan='3' style='background-color:white; font-size:0.6em'></td></tr>
<tr><th>Returns</th><th colspan='2'>Description</th></tr>
<tr><td style='text-align:center'><code>CBOR.String</code></td><td colspan='2' style='width:100%'>Wrapper object.</td></tr>
</table></div>
<h5 id='methods.cbor.string'>2.4.1 CBOR.String Methods</h5>
<h5 id='cbor.string.getstring'>2.4.1.1 getString()</h5>
<div class='webpkifloat'>
<table class='webpkitable' style='margin-left:2em;width:50em'>
<tr><th>Syntax</th><td style='width:100%'><code>getString()</code></td></tr>
<tr><th>Description</th><td style='width:100%'>Reads CBOR text string.</td></tr>
<tr><td colspan='2' style='background-color:white; font-size:0.6em'></td></tr>
<tr><th>Returns</th><th>Description</th></tr>
<tr><td style='text-align:center'><code>String</code></td><td style='width:100%'>Decoded text string.</td></tr>
</table></div>
<h5 id='wrapper.cbor.bytes'>2.5 CBOR.Bytes</h5>
<div class='webpkifloat'>
<table class='webpkitable' style='margin-left:2em;width:50em'>
<tr><th>Syntax</th><td colspan='2' style='width:100%'><code>CBOR.Bytes(<i>byteString</i>)</code></td></tr>
<tr><th>Description</th><td colspan='2' style='width:100%'>Constructor.  Creates a CBOR byte string wrapper object.</td></tr>
<tr><td colspan='3' style='background-color:white; font-size:0.6em'></td></tr>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
<tr><td style='text-align:center'><code><i>byteString</i></code></td><td style='text-align:center'><code>Uint8Array</code></td><td style='width:100%'>Binary data to be wrapped.</td></tr>
<tr><td colspan='3' style='background-color:white; font-size:0.6em'></td></tr>
<tr><th>Returns</th><th colspan='2'>Description</th></tr>
<tr><td style='text-align:center'><code>CBOR.Bytes</code></td><td colspan='2' style='width:100%'>Wrapper object.</td></tr>
</table></div>
<h5 id='methods.cbor.bytes'>2.5.1 CBOR.Bytes Methods</h5>
<h5 id='cbor.bytes.getbytes'>2.5.1.1 getBytes()</h5>
<div class='webpkifloat'>
<table class='webpkitable' style='margin-left:2em;width:50em'>
<tr><th>Syntax</th><td style='width:100%'><code>getBytes()</code></td></tr>
<tr><th>Description</th><td style='width:100%'>Reads CBOR byte string.</td></tr>
<tr><td colspan='2' style='background-color:white; font-size:0.6em'></td></tr>
<tr><th>Returns</th><th>Description</th></tr>
<tr><td style='text-align:center'><code>Uint8Array</code></td><td style='width:100%'>Decoded byte string.</td></tr>
</table></div>
<h5 id='wrapper.cbor.bool'>2.6 CBOR.Bool</h5>
<div class='webpkifloat'>
<table class='webpkitable' style='margin-left:2em;width:50em'>
<tr><th>Syntax</th><td colspan='2' style='width:100%'><code>CBOR.Bool(<i>value</i>)</code></td></tr>
<tr><th>Description</th><td colspan='2' style='width:100%'>Constructor.  Creates a CBOR boolean wrapper object.</td></tr>
<tr><td colspan='3' style='background-color:white; font-size:0.6em'></td></tr>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
<tr><td style='text-align:center'><code><i>value</i></code></td><td style='text-align:center'><code>Boolean</code></td><td style='width:100%'>Boolean to be wrapped.</td></tr>
<tr><td colspan='3' style='background-color:white; font-size:0.6em'></td></tr>
<tr><th>Returns</th><th colspan='2'>Description</th></tr>
<tr><td style='text-align:center'><code>CBOR.Bool</code></td><td colspan='2' style='width:100%'>Wrapper object.</td></tr>
</table></div>
<h5 id='methods.cbor.bool'>2.6.1 CBOR.Bool Methods</h5>
<h5 id='cbor.bool.getboolean'>2.6.1.1 getBoolean()</h5>
<div class='webpkifloat'>
<table class='webpkitable' style='margin-left:2em;width:50em'>
<tr><th>Syntax</th><td style='width:100%'><code>getBoolean()</code></td></tr>
<tr><th>Description</th><td style='width:100%'>Reads CBOR boolean.</td></tr>
<tr><td colspan='2' style='background-color:white; font-size:0.6em'></td></tr>
<tr><th>Returns</th><th>Description</th></tr>
<tr><td style='text-align:center'><code>Boolean</code></td><td style='width:100%'>Decoded boolean.</td></tr>
</table></div>
<h5 id='wrapper.cbor.null'>2.7 CBOR.Null</h5>
<div class='webpkifloat'>
<table class='webpkitable' style='margin-left:2em;width:50em'>
<tr><th>Syntax</th><td style='width:100%'><code>CBOR.Null()</code></td></tr>
<tr><th>Description</th><td style='width:100%'>Constructor.  Creates a CBOR <code>null</code> wrapper object.</td></tr>
<tr><td colspan='2' style='background-color:white; font-size:0.6em'></td></tr>
<tr><th>Returns</th><th>Description</th></tr>
<tr><td style='text-align:center'><code>CBOR.Null</code></td><td style='width:100%'>Wrapper object.</td></tr>
</table></div>
<h5 id='methods.cbor.null'>2.7.1 CBOR.Null Methods</h5>
<h5 id='cbor.null.isnull'>2.7.1.1 isNull()</h5>
<div class='webpkifloat'>
<table class='webpkitable' style='margin-left:2em;width:50em'>
<tr><th>Syntax</th><td style='width:100%'><code>isNull()</code></td></tr>
<tr><th>Description</th><td style='width:100%'>Checks for CBOR <code>null</code>.
Note that if <a href='#common.checkforunread'>checkForUnread()</a>
is used, the object will only be regarded as &quot;read&quot;
if it actually is a CBOR <code>null</code> item.</td></tr>
<tr><td colspan='2' style='background-color:white; font-size:0.6em'></td></tr>
<tr><th>Returns</th><th>Description</th></tr>
<tr><td style='text-align:center'><code>Boolean</code></td><td style='width:100%'>Returns <code>true</code> if the current object
holds a CBOR <code>null</code> item, otherwise <code>false</code>
is returned.</td></tr>
</table></div>
<h5 id='wrapper.cbor.array'>2.8 CBOR.Array</h5>
<div class='webpkifloat'>
<table class='webpkitable' style='margin-left:2em;width:50em'>
<tr><th>Syntax</th><td style='width:100%'><code>CBOR.Array()</code></td></tr>
<tr><th>Description</th><td style='width:100%'>Constructor.  Creates a CBOR array wrapper object.</td></tr>
<tr><td colspan='2' style='background-color:white; font-size:0.6em'></td></tr>
<tr><th>Returns</th><th>Description</th></tr>
<tr><td style='text-align:center'><code>CBOR.Array</code></td><td style='width:100%'>Wrapper object.</td></tr>
</table></div>
<h5 id='methods.cbor.array'>2.8.1 CBOR.Array Methods</h5>
<h5 id='cbor.array.add'>2.8.1.1 add()</h5>
<div class='webpkifloat'>
<table class='webpkitable' style='margin-left:2em;width:50em'>
<tr><th>Syntax</th><td colspan='2' style='width:100%'><code>add(<i>object</i>)</code></td></tr>
<tr><th>Description</th><td colspan='2' style='width:100%'>Adds CBOR wrapper object to the array.</td></tr>
<tr><td colspan='3' style='background-color:white; font-size:0.6em'></td></tr>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
<tr><td style='text-align:center'><code><i>object</i></code></td><td style='text-align:center'><code>CBOR.<i>Wrapper</i></code></td><td style='width:100%'>Object to be appended to the current array.</td></tr>
<tr><td colspan='3' style='background-color:white; font-size:0.6em'></td></tr>
<tr><th>Returns</th><th colspan='2'>Description</th></tr>
<tr><td style='text-align:center'><code>this</code></td><td colspan='2' style='width:100%'>Current object.</td></tr>
</table></div>
<h5 id='cbor.array.get'>2.8.1.2 get()</h5>
<div class='webpkifloat'>
<table class='webpkitable' style='margin-left:2em;width:50em'>
<tr><th>Syntax</th><td colspan='2' style='width:100%'><code>get(<i>index</i>)</code></td></tr>
<tr><th>Description</th><td colspan='2' style='width:100%'>Fetches CBOR wrapper object.
If <code><i>index</i></code> is out of range, an exception is thrown.</td></tr>
<tr><td colspan='3' style='background-color:white; font-size:0.6em'></td></tr>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
<tr><td style='text-align:center'><code><i>index</i></code></td><td style='text-align:center'><code>Number</code></td><td style='width:100%'>Index <code>(0..length-1)</code> of object.</td></tr>
<tr><td colspan='3' style='background-color:white; font-size:0.6em'></td></tr>
<tr><th>Returns</th><th colspan='2'>Description</th></tr>
<tr><td style='text-align:center'><code>CBOR.<i>Wrapper</i></code></td><td colspan='2' style='width:100%'>Retrieved object.</td></tr>
</table></div>
<h5 id='cbor.array.toarray'>2.8.1.3 toArray()</h5>
<div class='webpkifloat'>
<table class='webpkitable' style='margin-left:2em;width:50em'>
<tr><th>Syntax</th><td style='width:100%'><code>toArray()</code></td></tr>
<tr><th>Description</th><td style='width:100%'>Copies array.</td></tr>
<tr><td colspan='2' style='background-color:white; font-size:0.6em'></td></tr>
<tr><th>Returns</th><th>Description</th></tr>
<tr><td style='text-align:center'><code>Array</code></td><td style='width:100%'>Shallow array copy of current <code>CBOR.<i>Wrapper</i></code> objects</td></tr>
</table></div>
<h5 id='cbor.array.getarray'>2.8.1.4 getArray()</h5>
<div class='webpkifloat'>
<table class='webpkitable' style='margin-left:2em;width:50em'>
<tr><th>Syntax</th><td style='width:100%'><code>getArray()</code></td></tr>
<tr><th>Description</th><td style='width:100%'>Get array object.
Note: this method is redundant due to the lax JavaScript
typing system.  However, if you intend using
<a href='#common.checkforunread'>checkForUnread()</a>,
this method must be called <i>before</i> acessing array elements.</td></tr>
<tr><td colspan='2' style='background-color:white; font-size:0.6em'></td></tr>
<tr><th>Returns</th><th>Description</th></tr>
<tr><td style='text-align:center'><code>CBOR.Array</code></td><td style='width:100%'>Handle to array wrapper.</td></tr>
</table></div>
<h5 id='properties.cbor.array'>2.8.2 CBOR.Array Properties</h5>
<h5 id='cbor.array.length'>2.8.2.1 length</h5>
<div class='webpkifloat'>
<table class='webpkitable' style='margin-left:2em;width:50em'>
<tr><th>Name</th><th>Type</th><th>Description</th></tr>
<tr><td style='text-align:center'><code><i>length</i></code></td><td style='text-align:center'><code>Number</code></td><td style='width:100%'>Number of objects in the array.</td></tr>
</table></div>
<h5 id='wrapper.cbor.map'>2.9 CBOR.Map</h5>
<div class='webpkifloat'>
<table class='webpkitable' style='margin-left:2em;width:50em'>
<tr><th>Syntax</th><td style='width:100%'><code>CBOR.Map()</code></td></tr>
<tr><th>Description</th><td style='width:100%'>Constructor.  Creates a CBOR map wrapper object.</td></tr>
<tr><td colspan='2' style='background-color:white; font-size:0.6em'></td></tr>
<tr><th>Returns</th><th>Description</th></tr>
<tr><td style='text-align:center'><code>CBOR.Map</code></td><td style='width:100%'>Wrapper object.</td></tr>
</table></div>
<h5 id='methods.cbor.map'>2.9.1 CBOR.Map Methods</h5>
<h5 id='cbor.map.set'>2.9.1.1 set()</h5>
<div class='webpkifloat'>
<table class='webpkitable' style='margin-left:2em;width:50em'>
<tr><th>Syntax</th><td colspan='2' style='width:100%'><code>set(<i>key</i>, <i>value</i>)</code></td></tr>
<tr><th>Description</th><td colspan='2' style='width:100%'>Sets map entry.
If <code><i>key</i></code> is already defined, an exception is thrown.</td></tr>
<tr><td colspan='3' style='background-color:white; font-size:0.6em'></td></tr>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
<tr><td style='text-align:center'><code><i>key</i></code></td><td style='text-align:center'><code>CBOR.<i>Wrapper</i></code></td><td style='width:100%'>Key (name) wrapper object.</td></tr>
<tr><td style='text-align:center'><code><i>value</i></code></td><td style='text-align:center'><code>CBOR.<i>Wrapper</i></code></td><td style='width:100%'>Value wrapper object.</td></tr>
<tr><td colspan='3' style='background-color:white; font-size:0.6em'></td></tr>
<tr><th>Returns</th><th colspan='2'>Description</th></tr>
<tr><td style='text-align:center'><code>this</code></td><td colspan='2' style='width:100%'>Current object.</td></tr>
</table></div>
<h5 id='cbor.map.get'>2.9.1.2 get()</h5>
<div class='webpkifloat'>
<table class='webpkitable' style='margin-left:2em;width:50em'>
<tr><th>Syntax</th><td colspan='2' style='width:100%'><code>get(<i>key</i>)</code></td></tr>
<tr><th>Description</th><td colspan='2' style='width:100%'>Gets map entry.
If <code><i>key</i></code> is undefined, an exception is thrown.</td></tr>
<tr><td colspan='3' style='background-color:white; font-size:0.6em'></td></tr>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
<tr><td style='text-align:center'><code><i>key</i></code></td><td style='text-align:center'><code>CBOR.<i>Wrapper</i></code></td><td style='width:100%'>Key (name) wrapper object.</td></tr>
<tr><td colspan='3' style='background-color:white; font-size:0.6em'></td></tr>
<tr><th>Returns</th><th colspan='2'>Description</th></tr>
<tr><td style='text-align:center'><code>CBOR.<i>Wrapper</i></code></td><td colspan='2' style='width:100%'>Retrieved object.</td></tr>
</table></div>
<h5 id='cbor.map.getconditional'>2.9.1.3 getConditional()</h5>
<div class='webpkifloat'>
<table class='webpkitable' style='margin-left:2em;width:50em'>
<tr><th>Syntax</th><td colspan='2' style='width:100%'><code>getConditional(<i>key</i>, <i>defaultValue</i>)</code></td></tr>
<tr><th>Description</th><td colspan='2' style='width:100%'>Gets map entry conditionally.</td></tr>
<tr><td colspan='3' style='background-color:white; font-size:0.6em'></td></tr>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
<tr><td style='text-align:center'><code><i>key</i></code></td><td style='text-align:center'><code>CBOR.<i>Wrapper</i></code></td><td style='width:100%'>Key (name) wrapper object.</td></tr>
<tr><td style='text-align:center'><code><i>defaultValue</i></code></td><td style='text-align:center'><code>CBOR.<i>Wrapper</i></code></td><td style='width:100%'>Value to return if <code><i>key</i></code> does not exist.
<code><i>defaultValue</i></code> may be <code>null</code>.</td></tr>
<tr><td colspan='3' style='background-color:white; font-size:0.6em'></td></tr>
<tr><th>Returns</th><th colspan='2'>Description</th></tr>
<tr><td style='text-align:center'><code>CBOR.<i>Wrapper</i></code></td><td colspan='2' style='width:100%'>Retrieved or default object.</td></tr>
</table></div>
<h5 id='cbor.map.containskey'>2.9.1.4 containsKey()</h5>
<div class='webpkifloat'>
<table class='webpkitable' style='margin-left:2em;width:50em'>
<tr><th>Syntax</th><td colspan='2' style='width:100%'><code>containsKey(<i>key</i>)</code></td></tr>
<tr><th>Description</th><td colspan='2' style='width:100%'>Checks map for key presence.</td></tr>
<tr><td colspan='3' style='background-color:white; font-size:0.6em'></td></tr>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
<tr><td style='text-align:center'><code><i>key</i></code></td><td style='text-align:center'><code>CBOR.<i>Wrapper</i></code></td><td style='width:100%'>Key (name) wrapper object.</td></tr>
<tr><td colspan='3' style='background-color:white; font-size:0.6em'></td></tr>
<tr><th>Returns</th><th colspan='2'>Description</th></tr>
<tr><td style='text-align:center'><code>Boolean</code></td><td colspan='2' style='width:100%'><code>true</code> or <code>false</code>.</td></tr>
</table></div>
<h5 id='cbor.map.remove'>2.9.1.5 remove()</h5>
<div class='webpkifloat'>
<table class='webpkitable' style='margin-left:2em;width:50em'>
<tr><th>Syntax</th><td colspan='2' style='width:100%'><code>remove(<i>key</i>)</code></td></tr>
<tr><th>Description</th><td colspan='2' style='width:100%'>Removes map entry.
If <code><i>key</i></code> is undefined, an exception is thrown.</td></tr>
<tr><td colspan='3' style='background-color:white; font-size:0.6em'></td></tr>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
<tr><td style='text-align:center'><code><i>key</i></code></td><td style='text-align:center'><code>CBOR.<i>Wrapper</i></code></td><td style='width:100%'>Key (name) wrapper object.</td></tr>
<tr><td colspan='3' style='background-color:white; font-size:0.6em'></td></tr>
<tr><th>Returns</th><th colspan='2'>Description</th></tr>
<tr><td style='text-align:center'><code>CBOR.<i>Wrapper</i></code></td><td colspan='2' style='width:100%'>Removed object (value component).</td></tr>
</table></div>
<h5 id='cbor.map.getkeys'>2.9.1.6 getKeys()</h5>
<div class='webpkifloat'>
<table class='webpkitable' style='margin-left:2em;width:50em'>
<tr><th>Syntax</th><td style='width:100%'><code>getKeys()</code></td></tr>
<tr><th>Description</th><td style='width:100%'>Get map keys.</td></tr>
<tr><td colspan='2' style='background-color:white; font-size:0.6em'></td></tr>
<tr><th>Returns</th><th>Description</th></tr>
<tr><td style='text-align:center'><code>Array</code></td><td style='width:100%'>Shallow array copy of current <code>CBOR.<i>Wrapper</i></code> map keys</td></tr>
</table></div>
<h5 id='cbor.map.getmap'>2.9.1.7 getMap()</h5>
<div class='webpkifloat'>
<table class='webpkitable' style='margin-left:2em;width:50em'>
<tr><th>Syntax</th><td style='width:100%'><code>getMap()</code></td></tr>
<tr><th>Description</th><td style='width:100%'>Get map object.
Note: this method is redundant due to the lax JavaScript
typing system.  However, if you intend using
<a href='#common.checkforunread'>checkForUnread()</a>,
this method must be called <i>before</i> acessing map keys.</td></tr>
<tr><td colspan='2' style='background-color:white; font-size:0.6em'></td></tr>
<tr><th>Returns</th><th>Description</th></tr>
<tr><td style='text-align:center'><code>CBOR.Map</code></td><td style='width:100%'>Handle to map wrapper.</td></tr>
</table></div>
<h5 id='properties.cbor.map'>2.9.2 CBOR.Map Properties</h5>
<h5 id='cbor.map.length'>2.9.2.1 length</h5>
<div class='webpkifloat'>
<table class='webpkitable' style='margin-left:2em;width:50em'>
<tr><th>Name</th><th>Type</th><th>Description</th></tr>
<tr><td style='text-align:center'><code><i>length</i></code></td><td style='text-align:center'><code>Number</code></td><td style='width:100%'>Number of map entries.</td></tr>
</table></div>
<h5 id='wrapper.cbor.tag'>2.10 CBOR.Tag</h5>
<div class='webpkifloat'>
<table class='webpkitable' style='margin-left:2em;width:50em'>
<tr><th>Syntax</th><td colspan='2' style='width:100%'><code>CBOR.Tag(<i>tagNumber</i>, <i>object</i>)</code></td></tr>
<tr><th>Description</th><td colspan='2' style='width:100%'>Constructor.  Creates a CBOR tag wrapper object.</td></tr>
<tr><td colspan='3' style='background-color:white; font-size:0.6em'></td></tr>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
<tr><td style='text-align:center'><code><i>tagNumber</i></code></td><td style='text-align:center'><code>BigInt</code></td><td style='width:100%'>Tag number.</td></tr>
<tr><td style='text-align:center'><code><i>object</i></code></td><td style='text-align:center'><code>CBOR.<i>Wrapper</i></code></td><td style='width:100%'>Object to be wrapped in a tag.</td></tr>
<tr><td colspan='3' style='background-color:white; font-size:0.6em'></td></tr>
<tr><th>Returns</th><th colspan='2'>Description</th></tr>
<tr><td style='text-align:center'><code>CBOR.Tag</code></td><td colspan='2' style='width:100%'>Wrapper object.</td></tr>
</table></div>
<h5 id='methods.cbor.tag'>2.10.1 CBOR.Tag Methods</h5>
<h5 id='cbor.tag.gettagnumber'>2.10.1.1 getTagNumber()</h5>
<div class='webpkifloat'>
<table class='webpkitable' style='margin-left:2em;width:50em'>
<tr><th>Syntax</th><td style='width:100%'><code>getTagNumber()</code></td></tr>
<tr><th>Description</th><td style='width:100%'>Reads CBOR tag number.</td></tr>
<tr><td colspan='2' style='background-color:white; font-size:0.6em'></td></tr>
<tr><th>Returns</th><th>Description</th></tr>
<tr><td style='text-align:center'><code>BigInt</code></td><td style='width:100%'>Decoded tag number.</td></tr>
</table></div>
<h5 id='cbor.tag.gettaggedobject'>2.10.1.2 getTaggedObject()</h5>
<div class='webpkifloat'>
<table class='webpkitable' style='margin-left:2em;width:50em'>
<tr><th>Syntax</th><td style='width:100%'><code>getTaggedObject()</code></td></tr>
<tr><th>Description</th><td style='width:100%'>Reads tagged CBOR object.</td></tr>
<tr><td colspan='2' style='background-color:white; font-size:0.6em'></td></tr>
<tr><th>Returns</th><th>Description</th></tr>
<tr><td style='text-align:center'><code>CBOR.<i>Wrapper</i></code></td><td style='width:100%'>Retrieved object.</td></tr>
</table></div>
<h5 id='cbor.tag.gettag'>2.10.1.3 getTag()</h5>
<div class='webpkifloat'>
<table class='webpkitable' style='margin-left:2em;width:50em'>
<tr><th>Syntax</th><td style='width:100%'><code>getTag()</code></td></tr>
<tr><th>Description</th><td style='width:100%'>Get tag object.
Note: this method is redundant due to the lax JavaScript
typing system.  However, if you intend using
<a href='#common.checkforunread'>checkForUnread()</a>,
this method must be called <i>before</i> acessing tag objects.</td></tr>
<tr><td colspan='2' style='background-color:white; font-size:0.6em'></td></tr>
<tr><th>Returns</th><th>Description</th></tr>
<tr><td style='text-align:center'><code>CBOR.Map</code></td><td style='width:100%'>Handle to map wrapper.</td></tr>
</table></div>

  <h3 id='main.common'>3 Common Wrapper Methods</h3>

  All of the objects mentioned in this section support a set of common methods
  which are described in this sub section.
  <h5 id='common.clone'>3.1 clone()</h5>
<div class='webpkifloat'>
<table class='webpkitable' style='margin-left:2em;width:50em'>
<tr><th>Syntax</th><td style='width:100%'><code>clone()</code></td></tr>
<tr><th>Description</th><td style='width:100%'>Creates a new instance of this object, initialized
with the original CBOR content.</td></tr>
<tr><td colspan='2' style='background-color:white; font-size:0.6em'></td></tr>
<tr><th>Returns</th><th>Description</th></tr>
<tr><td style='text-align:center'><code>CBOR.<i>Wrapper</i></code></td><td style='width:100%'>Copy of object.</td></tr>
</table></div>
<h5 id='common.equals'>3.2 equals()</h5>
<div class='webpkifloat'>
<table class='webpkitable' style='margin-left:2em;width:50em'>
<tr><th>Syntax</th><td colspan='2' style='width:100%'><code>equals(<i>object</i>)</code></td></tr>
<tr><th>Description</th><td colspan='2' style='width:100%'>Compares this object with another object with respect to CBOR data.</td></tr>
<tr><td colspan='3' style='background-color:white; font-size:0.6em'></td></tr>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
<tr><td style='text-align:center'><code><i>object</i></code></td><td style='text-align:center'><code>CBOR.<i>Wrapper</i></code></td><td style='width:100%'>The object to compare with.</td></tr>
<tr><td colspan='3' style='background-color:white; font-size:0.6em'></td></tr>
<tr><th>Returns</th><th colspan='2'>Description</th></tr>
<tr><td style='text-align:center'><code>Boolean</code></td><td colspan='2' style='width:100%'><code>true</code> if this object is equal to <code><i>object</i></code>,
otherwise <code>false</code>.</td></tr>
</table></div>
<h5 id='common.scan'>3.3 scan()</h5>
<div class='webpkifloat'>
<table class='webpkitable' style='margin-left:2em;width:50em'>
<tr><th>Syntax</th><td style='width:100%'><code>scan()</code></td></tr>
<tr><th>Description</th><td style='width:100%'>Scans current object as well as possíble child objects
in order to make them appear as &quot;read&quot;.
This is only meaningful in conjunction with
<a href='#common.checkforunread'>checkForUnread()</a>.</td></tr>
<tr><td colspan='2' style='background-color:white; font-size:0.6em'></td></tr>
<tr><th>Returns</th><th>Description</th></tr>
<tr><td style='text-align:center'><code>this</code></td><td style='width:100%'>Current object.</td></tr>
</table></div>
<h5 id='common.checkforunread'>3.4 checkForUnread()</h5>
<div class='webpkifloat'>
<table class='webpkitable' style='margin-left:2em;width:50em'>
<tr><th>Syntax</th><td style='width:100%'><code>checkForUnread()</code></td></tr>
<tr><th>Description</th><td style='width:100%'>Checks if the current object including possible child objects has been read
(like calling <a href='#cbor.int.getint'>getInt()</a>).
If any of the associated objects has not been read, an exception will be thrown.
<p>
The purpose of this method is to detect possible misunderstandings between parties
using CBOR based protocols.  Together with the strict type checking performed
by the CBOR.js API, a programmatic counterpart to schema based processing
can be achived.
</p>
Note that array <a href='#cbor.array.get'>get()</a>,
map <a href='#cbor.map.get'>get()</a>, and
tag <a href='#cbor.tag.gettaggedobject'>getTaggedObject()</a>
only <i>locate</i> objects,
and thus do not count as &quot;read&quot;.
Also see
<a href='#cbor.array.getarray'>getArray()</a>,
<a href='#cbor.map.getmap'>getMap()</a>,
<a href='#cbor.tag.gettag'>getTag()</a>, and
<a href='#common.scan'>scan()</a>.</td></tr>
<tr><td colspan='2' style='background-color:white; font-size:0.6em'></td></tr>
<tr><th>Returns</th><th>Description</th></tr>
<tr><td style='text-align:center'><code>this</code></td><td style='width:100%'>Current object.</td></tr>
</table></div>
<h5 id='common.todiag'>3.5 toDiag()</h5>
<div class='webpkifloat'>
<table class='webpkitable' style='margin-left:2em;width:50em'>
<tr><th>Syntax</th><td colspan='2' style='width:100%'><code>toDiag(<i>prettyPrint</i>)</code></td></tr>
<tr><th>Description</th><td colspan='2' style='width:100%'>Renders this object in <a href='#main.diagnostic'>Diagnostic Notation</a>.
See also: <a href='#common.tostring'>toString()</a>.</td></tr>
<tr><td colspan='3' style='background-color:white; font-size:0.6em'></td></tr>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
<tr><td style='text-align:center'><code><i>prettyPrint</i></code></td><td style='text-align:center'><code>Boolean</code></td><td style='width:100%'>If <code><i>prettyPrint</i></code> is <code>true</code>,
additional white space is inserted between elements to make the result
easier to read.</td></tr>
<tr><td colspan='3' style='background-color:white; font-size:0.6em'></td></tr>
<tr><th>Returns</th><th colspan='2'>Description</th></tr>
<tr><td style='text-align:center'><code>String</code></td><td colspan='2' style='width:100%'>Textual version of the wrapped CBOR content.</td></tr>
</table></div>
<h5 id='common.tostring'>3.6 toString()</h5>
<div class='webpkifloat'>
<table class='webpkitable' style='margin-left:2em;width:50em'>
<tr><th>Syntax</th><td style='width:100%'><code>toString()</code></td></tr>
<tr><th>Description</th><td style='width:100%'>Renders this object in <a href='#main.diagnostic'>Diagnostic Notation</a>.
Equivalent to calling <a href='#common.todiag'>toDiag()</a>
with a <code>true</code> argument.</td></tr>
<tr><td colspan='2' style='background-color:white; font-size:0.6em'></td></tr>
<tr><th>Returns</th><th>Description</th></tr>
<tr><td style='text-align:center'><code>String</code></td><td style='width:100%'>Textual version of the wrapped CBOR content.</td></tr>
</table></div>

  <h3 id='main.decoding'>4 Decoding CBOR</h3>

  Blah decoding.
  <h5 id='decoder.cbor.decode'>4.1 CBOR.decode()</h5>
<div class='webpkifloat'>
<table class='webpkitable' style='margin-left:2em;width:50em'>
<tr><th>Syntax</th><td colspan='2' style='width:100%'><code>CBOR.decode(<i>cbor</i>)</code></td></tr>
<tr><th>Description</th><td colspan='2' style='width:100%'>Decodes a CBOR object.
This method assumes that the CBOR data adheres to
<a href='#main.deterministic'>Deterministic Encoding</a>,
otherwise exceptions will be thrown.
Any additional data efter the CBOR object will also cause
exceptions to be thrown.</td></tr>
<tr><td colspan='3' style='background-color:white; font-size:0.6em'></td></tr>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
<tr><td style='text-align:center'><code><i>cbor</i></code></td><td style='text-align:center'><code>Uint8Array</code></td><td style='width:100%'>The data (bytes) to be decoded.</td></tr>
<tr><td colspan='3' style='background-color:white; font-size:0.6em'></td></tr>
<tr><th>Returns</th><th colspan='2'>Description</th></tr>
<tr><td style='text-align:center'><code>CBOR.<i>Wrapper</i></code></td><td colspan='2' style='width:100%'>CBOR wrapper object.</td></tr>
</table></div>
<h5 id='decoder.cbor.initextended'>4.2 CBOR.initExtended()</h5>
<div class='webpkifloat'>
<table class='webpkitable' style='margin-left:2em;width:50em'>
<tr><th>Syntax</th><td colspan='2' style='width:100%'><code>CBOR.initExtended(<i>cbor</i>, <i>sequenceFlag</i>, <i>nonDeterministic</i>, <i>constrainedKeys</i>)</code></td></tr>
<tr><th>Description</th><td colspan='2' style='width:100%'>Initiates an extended CBOR decoder.
This decoding method presumes that the actual
decoding is performed by one or more (for sequences only) calls to
<a href='#decoder.cbor.decodeextended'>CBOR.decodeExtended()</a>.</td></tr>
<tr><td colspan='3' style='background-color:white; font-size:0.6em'></td></tr>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
<tr><td style='text-align:center'><code><i>cbor</i></code></td><td style='text-align:center'><code>Uint8Array</code></td><td style='width:100%'>The data (bytes) to be decoded.</td></tr>
<tr><td style='text-align:center'><code><i>sequenceFlag</i></code></td><td style='text-align:center'><code>Boolean</code></td><td style='width:100%'>If <code>true</code>, <a href='#decoder.cbor.decodeextended'>CBOR.decodeExtended()</a>
will return immediately after decoding a CBOR object, otherwise
any additional data efter the CBOR object will cause exceptions to be thrown.</td></tr>
<tr><td style='text-align:center'><code><i>nonDeterministic</i></code></td><td style='text-align:center'><code>Boolean</code></td><td style='width:100%'>If <code>true</code> the decoder will accept CBOR code
which violates the <a href='#main.deterministic'>Deterministic Encoding</a> rules.
This option may be needed for dealing with &quot;legacy&quot;
CBOR implementations.</td></tr>
<tr><td style='text-align:center'><code><i>constrainedKeys</i></code></td><td style='text-align:center'><code>Boolean</code></td><td style='width:100%'>If <code>true</code> the decoder will throw exceptions if CBOR <code>map</code>
key data types are not integers (major type 0 and 1) or
text strings (major type 3), as well as if a specific <code>map</code>
instance mixes key data types.</td></tr>
<tr><td colspan='3' style='background-color:white; font-size:0.6em'></td></tr>
<tr><th>Returns</th><th colspan='2'>Description</th></tr>
<tr><td style='text-align:center'><code><i>Decoder</i></code></td><td colspan='2' style='width:100%'>Internal decoder object for usage with
<a href='#decoder.cbor.decodeextended'>CBOR.decodeExtended()</a>.</td></tr>
</table></div>
<h5 id='decoder.cbor.decodeextended'>4.3 CBOR.decodeExtended()</h5>
<div class='webpkifloat'>
<table class='webpkitable' style='margin-left:2em;width:50em'>
<tr><th>Syntax</th><td colspan='2' style='width:100%'><code>CBOR.decodeExtended(<i>decoder</i>)</code></td></tr>
<tr><th>Description</th><td colspan='2' style='width:100%'>Decodes a CBOR object.
If the <code>sequenceFlag</code> in the call to
<a href='#decoder.cbor.initextended'>CBOR.initExtended()</a>
is <code>true</code>, each call to
<a href='#decoder.cbor.decodeextended'>CBOR.decodeExtended()</a>
causes the internal decoder to move to the next (possible but unprocessed) CBOR object.
When there is no more data to decode, this method returns <code>null</code>.</td></tr>
<tr><td colspan='3' style='background-color:white; font-size:0.6em'></td></tr>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
<tr><td style='text-align:center'><code><i>decoder</i></code></td><td style='text-align:center'><code><i>Decoder</i></code></td><td style='width:100%'>Internal decoder object.</td></tr>
<tr><td colspan='3' style='background-color:white; font-size:0.6em'></td></tr>
<tr><th>Returns</th><th colspan='2'>Description</th></tr>
<tr><td style='text-align:center'><code>CBOR.<i>Wrapper</i></code></td><td colspan='2' style='width:100%'>CBOR wrapper object or <code>null</code>.</td></tr>
</table></div>
<h5 id='decoder.cbor.diagdecode'>4.4 CBOR.diagDecode()</h5>
<div class='webpkifloat'>
<table class='webpkitable' style='margin-left:2em;width:50em'>
<tr><th>Syntax</th><td colspan='2' style='width:100%'><code>CBOR.diagDecode(<i>cborText</i>)</code></td></tr>
<tr><th>Description</th><td colspan='2' style='width:100%'>Decodes a CBOR object provided in <a href='#main.diagnostic'>Diagnostic&nbsp;Notation</a>.
See also <a href='#decoder.cbor.diagdecode'>CBOR.diagDecodeSequence()</a>.</td></tr>
<tr><td colspan='3' style='background-color:white; font-size:0.6em'></td></tr>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
<tr><td style='text-align:center'><code><i>cborText</i></code></td><td style='text-align:center'><code>String</code></td><td style='width:100%'>CBOR in textual format.</td></tr>
<tr><td colspan='3' style='background-color:white; font-size:0.6em'></td></tr>
<tr><th>Returns</th><th colspan='2'>Description</th></tr>
<tr><td style='text-align:center'><code>CBOR.<i>Wrapper</i></code></td><td colspan='2' style='width:100%'>CBOR wrapper object.</td></tr>
</table></div>
<h5 id='decoder.cbor.diagdecodesequence'>4.5 CBOR.diagDecodeSequence()</h5>
<div class='webpkifloat'>
<table class='webpkitable' style='margin-left:2em;width:50em'>
<tr><th>Syntax</th><td colspan='2' style='width:100%'><code>CBOR.diagDecodeSequence(<i>cborText</i>)</code></td></tr>
<tr><th>Description</th><td colspan='2' style='width:100%'>Decodes a CBOR object provided in <a href='#main.diagnostic'>Diagnostic&nbsp;Notation</a>.
Unlike <a href='#decoder.cbor.diagdecode'>CBOR.diagDecode()</a>,
this method also accepts CBOR sequences, using a comma
character (<code>','</code>) as a separator.</td></tr>
<tr><td colspan='3' style='background-color:white; font-size:0.6em'></td></tr>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
<tr><td style='text-align:center'><code><i>cborText</i></code></td><td style='text-align:center'><code>String</code></td><td style='width:100%'>CBOR in textual format.</td></tr>
<tr><td colspan='3' style='background-color:white; font-size:0.6em'></td></tr>
<tr><th>Returns</th><th colspan='2'>Description</th></tr>
<tr><td style='text-align:center'><code>Array</code></td><td colspan='2' style='width:100%'>Array holding one or more CBOR wrapper objects.</td></tr>
</table></div>

  <h3 id='main.utility'>5 Utility Methods</h3>

  The following utility methods are unrelated to CBOR but have been included
  here because they are a part of the current CBOR.js implemention.
  <h5 id='utility.cbor.addarrays'>5.1 CBOR.addArrays()</h5>
<div class='webpkifloat'>
<table class='webpkitable' style='margin-left:2em;width:50em'>
<tr><th>Syntax</th><td colspan='2' style='width:100%'><code>CBOR.addArrays(<i>a</i>, <i>b</i>)</code></td></tr>
<tr><th>Description</th><td colspan='2' style='width:100%'>Adds two arrays.</td></tr>
<tr><td colspan='3' style='background-color:white; font-size:0.6em'></td></tr>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
<tr><td style='text-align:center'><code><i>a</i></code></td><td style='text-align:center'><code>Uint8Array</code></td><td style='width:100%'>First array.</td></tr>
<tr><td style='text-align:center'><code><i>b</i></code></td><td style='text-align:center'><code>Uint8Array</code></td><td style='width:100%'>Second array.</td></tr>
<tr><td colspan='3' style='background-color:white; font-size:0.6em'></td></tr>
<tr><th>Returns</th><th colspan='2'>Description</th></tr>
<tr><td style='text-align:center'><code>Uint8Array</code></td><td colspan='2' style='width:100%'>Concatenation of array <code><i>a</i></code> and <code><i>b</i></code>.</td></tr>
</table></div>
<h5 id='utility.cbor.comparearrays'>5.2 CBOR.compareArrays()</h5>
<div class='webpkifloat'>
<table class='webpkitable' style='margin-left:2em;width:50em'>
<tr><th>Syntax</th><td colspan='2' style='width:100%'><code>CBOR.compareArrays(<i>a</i>, <i>b</i>)</code></td></tr>
<tr><th>Description</th><td colspan='2' style='width:100%'>Compares two arrays lexicographically.</td></tr>
<tr><td colspan='3' style='background-color:white; font-size:0.6em'></td></tr>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
<tr><td style='text-align:center'><code><i>a</i></code></td><td style='text-align:center'><code>Uint8Array</code></td><td style='width:100%'>First array.</td></tr>
<tr><td style='text-align:center'><code><i>b</i></code></td><td style='text-align:center'><code>Uint8Array</code></td><td style='width:100%'>Second array.</td></tr>
<tr><td colspan='3' style='background-color:white; font-size:0.6em'></td></tr>
<tr><th>Returns</th><th colspan='2'>Description</th></tr>
<tr><td style='text-align:center'><code>Number</code></td><td colspan='2' style='width:100%'>If <code><i>a</i></code> and <code><i>b</i></code> are identical,
<code>0</code> is retuned.
If <code><i>a</i>&nbsp;&gt;&nbsp;<i>b</i></code>,
a positive number is returned.
If <code><i>a</i>&nbsp;&lt;&nbsp;<i>b</i></code>,
a negative number is returned.</td></tr>
</table></div>
<h5 id='utility.cbor.tohex'>5.3 CBOR.toHex()</h5>
<div class='webpkifloat'>
<table class='webpkitable' style='margin-left:2em;width:50em'>
<tr><th>Syntax</th><td colspan='2' style='width:100%'><code>CBOR.toHex(<i>byteArray</i>)</code></td></tr>
<tr><th>Description</th><td colspan='2' style='width:100%'>Encodes binary data to hexadecimal.</td></tr>
<tr><td colspan='3' style='background-color:white; font-size:0.6em'></td></tr>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
<tr><td style='text-align:center'><code><i>byteArray</i></code></td><td style='text-align:center'><code>Uint8Array</code></td><td style='width:100%'>Zero or bytes to be encoded.</td></tr>
<tr><td colspan='3' style='background-color:white; font-size:0.6em'></td></tr>
<tr><th>Returns</th><th colspan='2'>Description</th></tr>
<tr><td style='text-align:center'><code>String</code></td><td colspan='2' style='width:100%'>Hexadecimal encoded data.</td></tr>
</table></div>
<h5 id='utility.cbor.fromhex'>5.4 CBOR.fromHex()</h5>
<div class='webpkifloat'>
<table class='webpkitable' style='margin-left:2em;width:50em'>
<tr><th>Syntax</th><td colspan='2' style='width:100%'><code>CBOR.fromHex(<i>hexString</i>)</code></td></tr>
<tr><th>Description</th><td colspan='2' style='width:100%'>Decodes hexadecimal data into binary.</td></tr>
<tr><td colspan='3' style='background-color:white; font-size:0.6em'></td></tr>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
<tr><td style='text-align:center'><code><i>hexString</i></code></td><td style='text-align:center'><code>String</code></td><td style='width:100%'>String with zero or more hexadecimal pairs. Each pair represents one byte.</td></tr>
<tr><td colspan='3' style='background-color:white; font-size:0.6em'></td></tr>
<tr><th>Returns</th><th colspan='2'>Description</th></tr>
<tr><td style='text-align:center'><code>Uint8Array</code></td><td colspan='2' style='width:100%'>The resulting binary (bytes).</td></tr>
</table></div>
<h5 id='utility.cbor.tobase64url'>5.5 CBOR.toBase64Url()</h5>
<div class='webpkifloat'>
<table class='webpkitable' style='margin-left:2em;width:50em'>
<tr><th>Syntax</th><td colspan='2' style='width:100%'><code>CBOR.toBase64Url(<i>byteArray</i>)</code></td></tr>
<tr><th>Description</th><td colspan='2' style='width:100%'>Encodes binary data to base64Url.</td></tr>
<tr><td colspan='3' style='background-color:white; font-size:0.6em'></td></tr>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
<tr><td style='text-align:center'><code><i>byteArray</i></code></td><td style='text-align:center'><code>Uint8Array</code></td><td style='width:100%'>Zero or more bytes to be encoded.</td></tr>
<tr><td colspan='3' style='background-color:white; font-size:0.6em'></td></tr>
<tr><th>Returns</th><th colspan='2'>Description</th></tr>
<tr><td style='text-align:center'><code>String</code></td><td colspan='2' style='width:100%'>Base64Url encoded data.</td></tr>
</table></div>
<h5 id='utility.cbor.frombase64url'>5.6 CBOR.fromBase64Url()</h5>
<div class='webpkifloat'>
<table class='webpkitable' style='margin-left:2em;width:50em'>
<tr><th>Syntax</th><td colspan='2' style='width:100%'><code>CBOR.fromBase64Url(<i>base64</i>)</code></td></tr>
<tr><th>Description</th><td colspan='2' style='width:100%'>Decodes base64Url encoded data into binary.
Note that this method is <i>permissive</i>; it accepts
base64 encoded data as well as data with or without
<code>'='</code> padding.</td></tr>
<tr><td colspan='3' style='background-color:white; font-size:0.6em'></td></tr>
<tr><th>Parameter</th><th>Type</th><th>Description</th></tr>
<tr><td style='text-align:center'><code><i>base64</i></code></td><td style='text-align:center'><code>String</code></td><td style='width:100%'>String in base64Url notation.  The string may be empty.</td></tr>
<tr><td colspan='3' style='background-color:white; font-size:0.6em'></td></tr>
<tr><th>Returns</th><th colspan='2'>Description</th></tr>
<tr><td style='text-align:center'><code>Uint8Array</code></td><td colspan='2' style='width:100%'>The resulting binary (bytes).</td></tr>
</table></div>

  <h3 id='main.jsnumbers'>6 JavaScript Number Considerations</h3>

  Since JavaScript <i>natively</i> only supports <code>Number</code> (backed
  by 64-bit IEEE&nbsp;754 floating point data), and <code>BigInt</code>
  (offering unlimited integers), it is important to understand how these
  number types are mapped to CBOR which offers
  two variants of integers and three variants of floating point types.
  <h5 id='jsnumbers.int'>6.1 Integer Numbers</h5>

  Due to the <code>Number.MAX_SAFE_INTEGER</code> limitation, CBOR documents using
  integer elements with a magnitude in excess of 53 bits, must
  for such elements turn to <code>BigInt</code>,
  otherwise run-time errors may occurr when accessing integer data using
  <a href='#cbor.int.getint'>getInt()</a> or
  during creation of integers using
  <a href='#wrapper.cbor.int'>CBOR.Int()</a>.
  That is, for creation of such integers,
  <a href='#wrapper.cbor.bigint'>CBOR.BigInt()</a>
  is the proper solution, while access requires
  <a href='#cbor.bigint.getbigint'>getBigInt()</a>.
  <h5 id='jsnumbers.fp'>6.2 Floating Point Numbers</h5>

  Although CBOR encoding depends on 16, 32, and 64-bit IEEE&nbsp;754
  variants, the CBOR.js implementation makes this
  transparent; the API only exposes the <code>Number</code> type.
  <h3 id='main.diagnostic'>7 Diagnostic Notation</h3>

  Creating CBOR data in diagnostic notation (as described in section 8 of RFC&nbsp;8949),
  is provided by the <a href='#common.tostring'>toString()</a> method.
  <p>
  However, through the <a href='#decoder.cbor.diagdecode'>CBOR.diagDecode()</a>
  method, CBOR data may also be provided in diagnostic (textual) notation,
  making CBOR useful for "config" and test data files as well.
  </p>
  <p>
  Due to the
  <a href='#deterministic-encoding'>Deterministic Encoding</a>
  scheme used by CBOR.js, CBOR data can be <i>bidirectionally</i>
  converted between its native (binary) format and diagnostic notation
  without getting corrupted.  Note though that text-binary-text "roundtrips"
  do not necessarily return identical text: <code>0x10</code> used
  as diagnostic notation input will return <code>16</code> as
  diagnostic notation output.
</p>
  The following table shows how CBOR objects should be represented in
  diagnostic notation:
  <div class='webpkifloat'>
    <table class='webpkitable' style='margin-left:2em'>
      <tr><th>CBOR&nbsp;Object</th><th>Syntax</th><th>Notes</th><th style='min-width:30em'>Description</th></tr>
      <tr>
        <td rowspan='3'></td>
        <td><code>/</code>&nbsp;<i>comment&nbsp;text</i>&nbsp;<code>/</code></td>
        <td></td>
        <td>
          Multi-line comment.
          Multi-line comments are treated as whitespace and may thus also be used
          <i>between</i> CBOR objects.
        </td>
      </tr>
      <tr>
        <td><code>#</code>&nbsp;<i>comment&nbsp;text</i></td>
        <td rowspan='2'>7</td>
        <td rowspan='2'>
          Single-line comment.
          Single-line comments are terminated by a newline character (<code>'\n'</code>) or <code>EOF</code>.
          Single-line comments may also terminate lines holding regular CBOR items.
        </td>
      </tr>
      <tr><td><code>//</code>&nbsp;<i>comment&nbsp;text</i></td></tr>
      <tr id='integer-diag'>
        <td><code>integer</code></td>
        <td rowspan='2'><span style='white-space:nowrap'>{<i>sign</i>}{<code>0b</code>|<code>0o</code>|<code>0x</code>}<i>n</i></span></td>
        <td rowspan='2'>1, 2</td>
        <td rowspan='2'>
          Arbitrary sized integers without fractional components or exponents.
          See <a href='#integer-encoding'>CBOR integer encoding</a>.
          Binary, octal, and hexadecimal notation is supported by prepending numbers
          with <code>0b</code>, <code>0o</code>, and <code>0x</code> respectively.
          The latter also permit arbitrary insertions of <code>'_'</code> characters between digits to
          enable grouping of data like <code>0b100_000000001</code>.
        </td>
      </tr>
      <tr><td><code>big&nbsp;integer</code></tr>
      <tr id='float-diag'>
        <td rowspan='3'><code>floating&nbsp;point</code></td>
        <td>{<i>sign</i>}<i>n</i><code>.</code><i>n</i>{<code>e&pm;</code><i>n</i>}</td>
        <td>1, 2</td>
        <td>
          Floating point values
          must include a decimal point and an <i>optional</i> exponent.
          See <a href='#floating-point-encoding'>CBOR floating point encoding</a>.
        </td>
      </tr>
      <tr>
        <td><code>NaN</code></td>
        <td></td>
        <td>
          Not a number.
          See <a href='#floating-point-encoding'>CBOR floating point encoding</a>.
        </td>
      </tr>
      <tr>
        <td>{<i>sign</i>}<code>Infinity</code></td>
        <td>2</td>
        <td>
          Infinity.
          See <a href='#floating-point-encoding'>CBOR floating point encoding</a>.
        </td>
      </tr>
      <tr>
        <td rowspan='4'><code>byte&nbsp;string</code></td>
        <td><code>h'</code><i>hex&nbsp;data</i><code>'</code></td>
        <td>3, 6</td>
        <td>
          Byte data provided in hexadecimal notation.
          Each byte must be represented by two hexadecimal digits.
        </td>
      </tr>
      <tr>
        <td><code>b64'</code><i>base64&nbsp;data</i><code>'</code></td>
        <td>3, 6</td>
        <td>
          Byte data provided in base64 or base64URL notation.
          Padding with <code>'='</code> characters is <i>optional</i>.
        </td>
      </tr>
      <tr>
        <td><code>'</code><i>text</i><code>'</code></td>
        <td>4, 5</td>
        <td>Byte data provided as UTF-8 encoded text.</td>
      </tr>
      <tr>
        <td><code>&lt;&lt;</code>&nbsp;<i>object</i>&nbsp;<code>&gt;&gt;</code></td>
        <td></td>
        <td>Construct holding a CBOR object which is subsequently embedded in a byte string.</td>
      </tr>
      <tr>
        <td><code>text&nbsp;string</code></td>
        <td><code>&quot;</code><i>text</i><code>&quot;</code>
        <td>4, 5</td>
        <td>UTF-8 encoded text string.</td>
      </tr>
      <tr>
        <td><code>true</code></td>
        <td><code>true</code></td>
        <td rowspan='2'></td>
        <td rowspan='2'>Boolean value.</td>
      </tr>
      <tr><td><code>false</code></td><td><code>false</code></td></tr>
      <tr><td><code>null</code></td><td><code>null</code></td><td></td><td>Null value.</td></tr>
      <tr>
        <td><code>array</code></td>
        <td><code>[</code>&nbsp;<i>objects</i>&nbsp;<code>]</code></td>
        <td></td>
        <td>Array with zero or more comma separated CBOR objects.</td>
      </tr>
      <tr>
        <td><code>map</code></td>
        <td><code>{</code>&nbsp;<i>key</i><code>:</code><i>value</i>&nbsp;<code>}</code></td>
        <td></td>
        <td>
          Map with zero or more comma separated key/value pairs.
          Keys and values are expressed as CBOR objects.
        </td>
      </tr>
      <tr>
        <td><code>tag</code></td>
        <td><i>n</i><code>(</code>&nbsp;<i>object</i>&nbsp;<code>)</code></td>
        <td>1</td>
        <td>Tag holding a CBOR object.</td>
      </tr>
    </table>
  </div>
  <ol style='margin:0 0'>
    <li>The letter <i>n</i> in the Syntax column denotes one or more digits.</li>
    <li>The optional <code>{<i>sign</i>}</code> must be a single hyphen (<code>'-'</code>) character.</li>
    <li>
      Whitespace characters
      (<code>' '</code>, <code>'\t'</code>, <code>'\r'</code>, <code>'\n'</code>)
      inside of string quotes are <i>ignored</i>.
    </li>
    <li>
      Whitespace characters
      (<code>'\t'</code>, <code>'\r'</code>, <code>'\n'</code>)
      inside of string quotes <i>become a part of the text</i>.
      To <i>avoid</i> getting newline characters (<code>'\n'</code>)
      included in multi-line text strings,
      a <i>line continuation marker</i> consisting of a backslash&nbsp;(<code>'\'</code>)
      immediately preceding the newline may be used.
    </li>
    <li>
      Text strings may also include JavaScript compatible escape sequences
      (<code>'\''</code>, <code>'\"'</code>, <code>'\\'</code>,
      <code>'\b'</code>, <code>'\f'</code>, <code>'\n'</code>,
      <code>'\r'</code>, <code>'\t'</code>, <code>'\u</code><i>hhhh</i><code>'</code>).
    </li>
    <li>Zero-length strings (<code>''</code>) return byte strings of length zero.</li>
    <li>The IETF have yet to define a single line comment.</li>
  </ol>
  <h3 id='main.deterministic'>8 Deterministic Encoding</h3>

  blah
</body>
</html>